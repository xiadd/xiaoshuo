webpackJsonp([1,0],[function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}var s=n(66),r=o(s),a=n(48),i=o(a),u=n(65),c=o(u),d=n(67),f=o(d),l=n(51),p=o(l),v=n(52),_=o(v),h=n(54),m=o(h),b=n(50),k=o(b),y=n(53),C=o(y),g=n(55),R=o(g);r.default.use(c.default),r.default.use(f.default);var F=[{path:"/",component:p.default},{path:"/login",component:_.default},{path:"/recommend",component:m.default},{path:"/bookinfo",component:k.default},{path:"/content/:bookId/:cid",component:C.default,name:"content"},{path:"/search",component:R.default}],I=new c.default({routes:F,mode:"hash"});new r.default(r.default.util.extend({router:I},i.default)).$mount("#app")},,function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}function s(){return f.get("/wechat/user").then(function(t){return t.data})}function r(t){return f.put("/add/"+t).then(function(t){return t.data})}function a(t){return f.delete("/remove/"+t).then(function(t){return t.data})}function i(t){return f.get("/chapter",{params:t}).then(function(t){return t.data})}function u(t){return f.get("/books",{params:{keyword:t}}).then(function(t){return t.data})}var c=n(3),d=o(c),f=d.default.create({baseURL:"http://wechat.xiadd.me/api",timeout:5e3,withCredentials:!0});t.exports={getUserInfo:s,addToList:r,removeFromList:a,startReading:i,startSearching:u}},,,,,,,,,function(t,e,n){var o,s;o=n(30);var r=n(57);s=o=o||{},"object"!=typeof o.default&&"function"!=typeof o.default||(s=o=o.default),"function"==typeof s&&(s=s.options),s.render=r.render,s.staticRenderFns=r.staticRenderFns,t.exports=o},,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var s=n(10),r=o(s),a=n(49),i=o(a);n(41);var u=n(2);e.default={name:"app",mounted:function(){var t=this;(0,u.getUserInfo)().then(function(e){console.log(e.ret.book_list),localStorage.setItem("user",(0,r.default)(e.ret)),t.userInfo=e.ret}).catch(function(t){return confirm(t.message)})},data:function(){return{userInfo:JSON.parse(localStorage.getItem("user"))}},methods:{test:function(){alert((0,r.default)(this.userInfo))}},components:{SHeader:i.default}}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{link:{required:!0}}}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={mounted:function(){},data:function(){return{userInfo:JSON.parse(localStorage.getItem("user"))}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(38),s=n(2);e.default={mounted:function(){var t=this;(0,o.queryBookById)(this.$route.query.bookId).then(function(e){t.bookinfo=e.ret[0],0===t.bookinfo.chapterList.length&&(0,o.getBookContent)(t.$route.query.bookId).then(function(e){t.bookinfo.chapterList=e})})},data:function(){var t=this;return{bookinfo:"",statu:JSON.parse(localStorage.getItem("user")).book_list.every(function(e){return t.$route.query.bookId!==e.id}),showContent:!1}},methods:{changeBookStatu:function(){var t=this,e=this.bookinfo.id;this.statu?(0,s.addToList)(e).then(function(e){1===e.code&&(t.statu=!t.statu)}):(0,s.removeFromList)(e).then(function(e){1===e.code&&(t.statu=!t.statu)})},toggleContent:function(){this.showContent=!this.showContent}},computed:{inList:function(){var t=this,e=JSON.parse(localStorage.getItem("user")).book_list,n=e.every(function(e){return t.$route.query.bookId!==e.id});return!n}}}},function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var s=n(10),r=o(s),a=n(11),i=o(a),u=n(2);e.default={mounted:function(){var t=this;(0,u.getUserInfo)().then(function(e){localStorage.setItem("user",(0,r.default)(e.ret)),t.booklist=e.ret.book_list}).catch(function(t){return confirm(t.message)})},data:function(){return{booklist:""}},components:{Cell:i.default}}},function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var s=n(3);o(s);e.default={mounted:function(){this.$router.push("/")}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(2);e.default={mounted:function(){var t=this;(0,o.startReading)(this.$route.params).then(function(e){t.content=e.showapi_res_body.txt})},data:function(){return{content:""}}}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={}},function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var s=n(2),r=n(11),a=o(r);e.default={data:function(){return{keyword:"",result:""}},methods:{search:function(){var t=this;0!==this.keyword.length?(0,s.startSearching)(this.keyword).then(function(e){t.result=e.ret.contentlist}):alert("请输入关键字")}},components:{Cell:a.default}}},function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}function s(t){return u.get("/books",{params:{bookId:t}}).then(function(t){return t.data})}function r(t){return u.get("/chapters/"+t).then(function(t){return t.data.chapterList})}var a=n(3),i=o(a),u=i.default.create({baseURL:"http://wechat.xiadd.me/api",timeout:5e3,withCredentials:!0});t.exports={queryBookById:s,getBookContent:r}},,,function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},,function(t,e,n){var o,s;n(46),o=n(29);var r=n(63);s=o=o||{},"object"!=typeof o.default&&"function"!=typeof o.default||(s=o=o.default),"function"==typeof s&&(s=s.options),s.render=r.render,s.staticRenderFns=r.staticRenderFns,t.exports=o},function(t,e,n){var o,s;n(45),o=n(31);var r=n(62);s=o=o||{},"object"!=typeof o.default&&"function"!=typeof o.default||(s=o=o.default),"function"==typeof s&&(s=s.options),s.render=r.render,s.staticRenderFns=r.staticRenderFns,t.exports=o},function(t,e,n){var o,s;o=n(32);var r=n(58);s=o=o||{},"object"!=typeof o.default&&"function"!=typeof o.default||(s=o=o.default),"function"==typeof s&&(s=s.options),s.render=r.render,s.staticRenderFns=r.staticRenderFns,t.exports=o},function(t,e,n){var o,s;n(42),o=n(33);var r=n(56);s=o=o||{},"object"!=typeof o.default&&"function"!=typeof o.default||(s=o=o.default),"function"==typeof s&&(s=s.options),s.render=r.render,s.staticRenderFns=r.staticRenderFns,t.exports=o},function(t,e,n){var o,s;n(44),o=n(34);var r=n(60);s=o=o||{},"object"!=typeof o.default&&"function"!=typeof o.default||(s=o=o.default),"function"==typeof s&&(s=s.options),s.render=r.render,s.staticRenderFns=r.staticRenderFns,t.exports=o},function(t,e,n){var o,s;o=n(35);var r=n(61);s=o=o||{},"object"!=typeof o.default&&"function"!=typeof o.default||(s=o=o.default),"function"==typeof s&&(s=s.options),s.render=r.render,s.staticRenderFns=r.staticRenderFns,t.exports=o},function(t,e,n){var o,s;n(43),o=n(36);var r=n(59);s=o=o||{},"object"!=typeof o.default&&"function"!=typeof o.default||(s=o=o.default),"function"==typeof s&&(s=s.options),s.render=r.render,s.staticRenderFns=r.staticRenderFns,t.exports=o},function(t,e,n){var o,s;o=n(37);var r=n(64);s=o=o||{},"object"!=typeof o.default&&"function"!=typeof o.default||(s=o=o.default),"function"==typeof s&&(s=s.options),s.render=r.render,s.staticRenderFns=r.staticRenderFns,t.exports=o},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home"},[0===t.booklist.length?n("div",{staticClass:"empty-list"},[n("p",[t._v("书架空空如也，去逛逛吧！")])]):t._l(t.booklist,function(e){return n("cell",{attrs:{link:{path:"/bookinfo",query:{bookId:e.id}}}},[n("div",{staticClass:"booklist"},[n("div",{staticClass:"book-status"},[n("h4",[t._v(t._s(e.name)),n("span",{staticClass:"statu"},[t._v("连载")])])]),t._v(" "),n("div",{staticClass:"book-des"},[n("p",[t._v("暂时没有简介呢，联系管理员添加")])]),t._v(" "),n("div",{staticClass:"book-info"},[n("p",[t._v(t._s(e.author)+" | "),n("span",{staticStyle:{color:"#b93321"}},[t._v(t._s(parseInt(e.size)/10))]),t._v("万字")]),t._v(" "),n("p",{staticClass:"book-type"},[t._v(t._s(e.typeName))])])])])})],2)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("router-link",{staticClass:"cell",attrs:{to:t.link}},[t._t("default")],2)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"bookinfo"},[t.showContent?n("div",{staticClass:"all-content"},[t._l(t.bookinfo.chapterList,function(e){return n("router-link",{staticClass:"single-content",attrs:{to:{name:"content",params:{bookId:e.bookId,cid:e.cid}}}},[t._v("\n      "+t._s(e.name)+"\n    ")])}),t._v(" "),n("div",{staticClass:"close-content",on:{click:t.toggleContent}},[n("div",{staticClass:"close-btn"},[t._v("\n        X\n      ")])])],2):t._e(),t._v(" "),n("div",{staticClass:"book-title-info"},[n("h5",[t._v(t._s(t.bookinfo.name))]),t._v(" "),n("div",{staticClass:"book-detail"},[n("p",[n("span",{staticClass:"book-author"},[t._v(t._s(t.bookinfo.author))]),t._v("   |   "),n("span",[t._v(t._s(t.bookinfo.typeName))]),t._v("   |   "),n("span",[t._v(t._s(parseInt(t.bookinfo.size)/10)+"万字")])])]),t._v(" "),n("div",{staticClass:"update-time"},[t._v("\n      "+t._s(t.bookinfo.updateTime)+"更新\n    ")])]),t._v(" "),n("div",{staticClass:"book-action"},[n("a",{staticClass:"button-link add-list",on:{click:t.changeBookStatu}},[n("div",{},[t._v("\n        "+t._s(t.statu?"+加入书架":"-移出书架")+"\n      ")])]),t._v(" "),n("a",{staticClass:"button-link view-content",on:{click:t.toggleContent}},[n("div",{},[t._v("\n        查看目录\n      ")])]),t._v(" "),t._m(0)])])},staticRenderFns:[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("a",{staticClass:"button-link start-read"},[n("div",{},[t._v("\n        开始阅读\n      ")])])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"recommend"},[t._v("\n  推荐\n")])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;t._self._c||e;return t._m(0)},staticRenderFns:[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"login"},[n("p",[t._v("自动登陆中")])])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"book-content"},[n("div",{staticClass:"content",domProps:{innerHTML:t._s(t.content)}})])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"header"},[n("div",{staticClass:"avatar"},[n("img",{attrs:{src:t.userInfo.headimgurl,alt:""}})]),t._v(" "),n("router-link",{staticClass:"recommend",attrs:{to:"/recommend"}},[n("h5",[n("i",{staticClass:"i i-hot"}),t._v("推荐")])]),t._v(" "),n("router-link",{staticClass:"search",attrs:{to:"search"}},[n("h5",[n("i",{staticClass:"i i-sousuo"}),t._v("搜索")])])],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("s-header"),t._v(" "),n("router-view")],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"search"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.keyword,expression:"keyword"}],attrs:{placeholder:"搜索"},domProps:{value:t._s(t.keyword)},on:{input:function(e){e.target.composing||(t.keyword=e.target.value)}}}),t._v(" "),n("button",{attrs:{type:"button",name:"button"},on:{click:t.search}},[t._v("点击搜索")]),t._v(" "),n("div",{staticClass:"result"},t._l(t.result,function(e){return n("cell",{attrs:{link:{path:"/bookinfo",query:{bookId:e.id}}}},[n("div",{staticClass:"booklist"},[n("div",{staticClass:"book-status"},[n("h4",[t._v(t._s(e.name)),n("span",{staticClass:"statu"},[t._v("连载")])])]),t._v(" "),n("div",{staticClass:"book-des"},[n("p",[t._v("暂时没有简介呢，联系管理员添加")])]),t._v(" "),n("div",{staticClass:"book-info"},[n("p",[t._v(t._s(e.author)+" | "),n("span",{staticStyle:{color:"#b93321"}},[t._v(t._s(parseInt(e.size)/10))]),t._v("万字")]),t._v(" "),n("p",{staticClass:"book-type"},[t._v(t._s(e.typeName))])])])])}))])},staticRenderFns:[]}}]);
//# sourceMappingURL=app.ade7953f668d39259c6a.js.map